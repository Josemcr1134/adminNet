<div class="mt-8">
    <div class="max-w-6xl mx-auto sm:px-6 ">

        <div class="container px-4 mx-auto sm:px-6 lg:px-8">
            <div class="inline-flex flex-nowrap" style="color: #6F6F6F;">
                <svg xmlns="http://www.w3.org/2000/svg" [routerLink]="['/Dashboard/config/Plans']" class="w-5 h-5 mx-2 font-semibold" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
              </svg>
                <h2 class="mb-4 text-xl font-semibold">Configuraciones - Editar Plan</h2>
            </div>
            <ul class="flex flex-col flex-wrap pl-0 mb-4  nav nav-tabs nav-justified md:flex-row list-noneborder-b-0" id="tabs-tabJustify" role="tablist">
                <li class="flex-grow text-center nav-item" role="presentation">
                    <a href="#tabs-homeJustify" class="block w-full px-6 py-3 my-2 text-xs font-medium leading-tight uppercase border-t-0 border-b-2 border-transparent  nav-link border-x-0 hover:border-transparent hover:bg-gray-100 focus:border-transparent active" id="tabs-home-tabJustify"
                        data-bs-toggle="pill" data-bs-target="#tabs-homeJustify" role="tab" aria-controls="tabs-homeJustify" aria-selected="true">Información</a>
                </li>
                <li class="flex-grow text-center nav-item" role="presentation">
                    <a href="#tabs-profileJustify" class="block w-full px-6 py-3 my-2 text-xs font-medium leading-tight uppercase border-t-0 border-b-2 border-transparent  nav-link border-x-0 hover:border-transparent hover:bg-gray-100 focus:border-transparent" id="tabs-profile-tabJustify"
                        data-bs-toggle="pill" data-bs-target="#tabs-profileJustify" role="tab" aria-controls="tabs-profileJustify" aria-selected="false">Servicios adjuntados</a>
                </li>

            </ul>
            <div class="tab-content" id="tabs-tabContentJustify">
                <div class="tab-pane fade show active" id="tabs-homeJustify" role="tabpanel" aria-labelledby="tabs-home-tabJustify">
                    <div class="flex flex-col">

                        <div class="overflow-hidden shadow sm:rounded-md">
                            <div class="px-4 py-5 bg-white sm:p-6">
                                <div class="grid grid-cols-6 gap-6">
                                    <div class="col-span-6 sm:col-span-6">
                                        <label for="name" class="block text-sm font-medium text-gray-700">Nombre</label>
                                        <input type="text" [(ngModel)]="p_name" name="name" id="name" class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>
                                    <div class="col-span-6">
                                        <label for="p_description" class="block text-sm font-medium text-gray-700">Descripción</label>
                                        <input type="text" [(ngModel)]="p_description" name="p_description" id="p_description" class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>

                                    <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                                        <label for="affiliate_number" class="block text-sm font-medium text-gray-700">No. máximo de afiliados </label>
                                        <input type="number" min="0" [(ngModel)]="max_affiliates" id="affiliate_number" class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>

                                    <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                                        <label for="p_fee" class="block text-sm font-medium text-gray-700">Tarifa por afiliado</label>
                                        <input type="number" [(ngModel)]="affiliate_fee" class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>
                                    <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                                        <label for="affiliate_number" class="block text-sm font-medium text-gray-700">No. máximo de afiliados extras </label>
                                        <input type="number" min="0" [(ngModel)]="max_extra_affiliates" id="affiliate_number" class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>

                                    <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                                        <label for="p_fee" class="block text-sm font-medium text-gray-700">Tarifa por afiliado extra</label>
                                        <input type="number" [(ngModel)]="extra_affiliate_fee" class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    </div>
                                </div>
                            </div>
                            <div class="px-4 py-3 text-right bg-gray-50 sm:px-6">
                                <button type="button" (click)="EditPlan()" class="disabled:opacity-10 inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                      Guardar Cambios
                                  </button>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="tab-pane fade" id="tabs-profileJustify" role="tabpanel" aria-labelledby="tabs-profile-tabJustify">
                    <div class="flex flex-col">

                        <div class="overflow-hidden shadow sm:rounded-md">
                            <div class="px-4 py-5 bg-white sm:p-6">
                                <div class="grid grid-cols-5 gap-2">
                                    <div class="col-span-5 md:col-span-2">
                                        <div>
                                            <label for="services" class="block text-sm font-medium text-gray-700">Servicio M.</label>
                                            <select id="services" [(ngModel)]="service_id" name="services" class="block w-full py-2 pl-3 pr-10 mt-1 text-base border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                                <option selected value="">Adjunta un servicio</option>
                                             <option [value]="s.id" *ngFor="let s of Services">{{s.name}} </option>
                                            </select>
                                        </div>
                                        <div class="py-3 mt-3 text-right bg-gray-50">
                                            <button type="button" (click)="AssignServiceToPlan()" [disabled]="service_id.length === 0" class="disabled:opacity-10 inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                                    Guardar
                                                </button>
                                        </div>
                                    </div>
                                    <div class="col-span-5 md:col-span-3">
                                        <div class="flex flex-col mt-8">
                                            <div class="-mx-4 -my-2 overflow-x-auto ">
                                                <div class=" inline-block min-w-full py-2 align-middle md:px-6 lg:px-8 ">

                                                    <div class="rounded-md bg-red-50 p-4" *ngIf="AssignedServices.length === 0">
                                                        <div class="flex">
                                                            <div class="flex-shrink-0">
                                                                <!-- Heroicon name: solid/x-circle -->
                                                                <svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                                                                </svg>
                                                            </div>
                                                            <div class="ml-3">
                                                                <h3 class="text-sm font-medium text-red-800">Oooops</h3>
                                                                <div class="mt-2 text-sm text-red-700">
                                                                    <ul role="list" class="list-disc pl-5 space-y-1">
                                                                        <li>No hay servicios asignados a este plan</li>
                                                                        <li>Vuelve a iniciar sesión</li>

                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg" *ngIf="AssignedServices.length > 0">
                                                        <table class="min-w-full divide-y divide-gray-300 ">
                                                            <thead class="bg-gray-50 ">
                                                                <tr>
                                                                    <th scope="col " class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 ">Nombre</th>
                                                                    <th scope="col " class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 ">Descripcion</th>
                                                                    <th scope="col " class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 ">Precio sugerido</th>
                                                                    <th scope="col " class="relative py-3.5 pl-3 pr-4 sm:pr-6 ">
                                                                        <span class="sr-only ">Eliminar</span>
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="bg-white divide-y divide-gray-200 ">
                                                                <tr *ngFor="let s of AssignedServices ">
                                                                    <td class="py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6 ">{{s.service.name}}</td>
                                                                    <td class="px-3 py-4 text-sm text-gray-500 whitespace-nowrap ">{{s.service.description}}</td>
                                                                    <td class="px-3 py-4 text-sm text-gray-500 whitespace-nowrap ">{{s.service.fee}}</td>
                                                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium ">
                                                                        <a (click)="DeleteAssignment(s.id) " class="text-red-600 hover:text-red-900 ">
                                                                            <svg xmlns="http://www.w3.org/2000/svg " class="h-6 w-6 lg:mx-1 " fill="none " viewBox="0 0 24 24 " stroke="currentColor " stroke-width="2 ">
                                                                              <path stroke-linecap="round " stroke-linejoin="round " d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16 " />
                                                                            </svg>
                                                                        </a>
                                                                    </td>
                                                                </tr>
                                                                <!-- More people... -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


        </div>
    </div>
</div>